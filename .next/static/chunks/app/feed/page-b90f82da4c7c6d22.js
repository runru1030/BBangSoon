(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[826],{4041:function(n,e,t){Promise.resolve().then(t.bind(t,3573))},3573:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return X}});var r=t(5147),i=t(6118),o=t(9268),c=t(8741),s=t.n(c),u=t(6008),a=t(6006),d=t(6628),l=t(5732),f=t(4522),p=t(8872),m=t(3380),h=t(9),g=t(1838),v=t(6325),x=t(3456);function b(){var n=(0,i.Z)(["\n  margin-top: 200px;\n  background-color: white;\n  padding: 30px 50px;\n  align-items: center;\n  border-radius: 20px;\n  border: solid thin ",";\n"]);return b=function(){return n},n}function j(){var n=(0,i.Z)(["\n  position: absolute;\n  z-index: 99;\n  background-color: #2b2b2b71;\n  width: 100%;\n  height: 100vh;\n"]);return j=function(){return n},n}function w(){var n=(0,i.Z)(['\n  margin-top: 30px;\n  align-items: center;\n  input[type="text"] {\n    width: 100%;\n    border: solid thin\n      ',';\n    border-radius: 5px;\n    margin-bottom: 30px;\n    padding: 10px 15px;\n  }\n  input[type="submit"] {\n    all: unset;\n    color: #46a6ff;\n  }\n  > div {\n    gap: 20px;\n  }\n  #quit {\n    color: grey;\n  }\n  #valid {\n    color: ',";\n    font-size: small;\n    margin-bottom: 20px;\n  }\n"]);return w=function(){return n},n}var Z=function(n){var e=n.setEditNick,t=n.onClickEditNick,i=(0,d.I0)(),c=(0,d.v9)(function(n){return{userObj:n.user.userObj}}).userObj,u=(0,r.Z)((0,a.useState)({nickName:"",valid:!1,error:""}),2),l=u[0],f=u[1];return(0,o.jsx)(k,{className:"container",valid:l.valid,children:(0,o.jsxs)(y,{className:"col-container",children:[(0,o.jsx)("img",{src:"bread.png",width:"50px"}),(0,o.jsx)("span",{children:"닉네임 변경"}),(0,o.jsxs)(C,{valid:l.valid,className:"col-container",onSubmit:function(n){n.preventDefault();try{if(""==l.nickName||!l.valid)throw Error("조건을 확인 해주세요.");s().patch("/user/nickName/".concat(c.id,"/").concat(l.nickName)).then(function(n){200==n.status&&i((0,x.ps)((0,v.Z)((0,g.Z)({},c),{nickName:l.nickName}))),e(!1),f({nickName:"",valid:!1,error:""})})}catch(n){n instanceof Error&&alert(n.message)}},children:[(0,o.jsx)("span",{id:"valid",children:l.error}),(0,o.jsx)("input",{type:"text",value:l.nickName,onChange:function(n){/\s/g.test(n.target.value)?f({nickName:n.target.value,valid:!1,error:"사용 불가"}):f({nickName:n.target.value,valid:!0,error:"사용 가능"})},placeholder:c.nickName+"(10자 이하, 공백불가)",maxLength:10}),(0,o.jsxs)("div",{className:"row-container",children:[(0,o.jsx)("input",{type:"submit",value:"수정"}),(0,o.jsx)("span",{onClick:t,id:"quit",children:"취소"})]})]})]})})},y=l.ZP.div.withConfig({componentId:"sc-10c5fd4-0"})(b(),function(n){return n.theme.color.blue}),k=l.ZP.div.withConfig({componentId:"sc-10c5fd4-1"})(j()),C=l.ZP.form.withConfig({componentId:"sc-10c5fd4-2"})(w(),function(n){return n.valid?n.theme.color.blue:n.theme.color.red},function(n){return n.valid?n.theme.color.blue:n.theme.color.red}),N=t(88);function I(){var n=(0,i.Z)(["\n  padding: 10px 15px;\n  gap: 10px;\n  border: solid thin ",";\n  position: absolute;\n  background-color: white;\n  margin-left: 60px;\n  margin-top: 30px;\n  border-radius: 5px;\n  font-size: medium;\n  font-weight: lighter;\n  font-size: x-small;\n  align-items: center;\n"]);return I=function(){return n},n}function O(){var n=(0,i.Z)(["\n  flex: 1;\n  justify-content: flex-end;\n  #bold {\n    font-weight: bold;\n    font-size: large;\n  }\n"]);return O=function(){return n},n}function _(){var n=(0,i.Z)(["\n  margin-left: 20px;\n  font-size: x-large;\n  align-items: center;\n  margin-bottom: 5px;\n  #text {\n    position: absolute;\n    right: 20px;\n    transform: translate(-100%);\n    color: white;\n    font-size: medium;\n  }\n"]);return _=function(){return n},n}function S(){var n=(0,i.Z)(["\n  align-items: center;\n  font-size: small;\n"]);return S=function(){return n},n}var E=function(n){var e=n.reviewArr,t=n.visitCnt,i=n.onClickHandler,c=(0,u.useRouter)(),l=(0,d.I0)(),f=(0,d.v9)(function(n){return{userObj:n.user.userObj}}).userObj,p=(0,r.Z)((0,a.useState)(!1),2),g=p[0],v=p[1],b=a.useRef(null),j=function(n){var e;!b||(null===(e=b.current)||void 0===e?void 0:e.contains(n.target))?v(!0):v(!1)};(0,a.useEffect)(function(){return document.addEventListener("mousedown",j),function(){document.removeEventListener("mousedown",j)}});var w=(0,r.Z)((0,a.useState)(!1),2),y=w[0],k=w[1],C=function(){k(function(n){return!n}),v(!1)};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(N.h4,{className:"row-container",children:[(0,o.jsx)("span",{onClick:function(){v(!0)},children:f.nickName}),g&&(0,o.jsxs)(P,{className:"col-container",ref:b,children:[(0,o.jsx)("span",{onClick:function(){s().post("/auth/logout").then(function(n){200==n.status&&(l((0,x.X2)(f,!1)),window.localStorage.removeItem("token"),c.push("/"))})},children:"로그아웃"}),(0,o.jsx)("span",{onClick:C,children:"닉네임 변경"})]}),(0,o.jsxs)(z,{className:"row-container",children:[(0,o.jsxs)(L,{className:"col-container",id:"feed",onClick:i,children:[(0,o.jsx)("span",{id:"bold",children:e.length}),(0,o.jsx)("span",{children:"일지"})]}),(0,o.jsxs)(F,{className:"row-container",id:"visit",onClick:i,children:[(0,o.jsx)("span",{children:(0,o.jsx)(m.G,{icon:h.MV6,color:"#e2c26e"})}),(0,o.jsx)("span",{id:"text",children:t})]})]})]}),y&&(0,o.jsx)(Z,{setEditNick:k,onClickEditNick:C})]})},P=l.ZP.div.withConfig({componentId:"sc-ceb99e4d-0"})(I(),function(n){return n.theme.color.blue}),z=l.ZP.div.withConfig({componentId:"sc-ceb99e4d-1"})(O()),F=l.ZP.div.withConfig({componentId:"sc-ceb99e4d-2"})(_()),L=l.ZP.div.withConfig({componentId:"sc-ceb99e4d-3"})(S());function A(){var n=(0,i.Z)(["\n    display: grid;\n    width: 100%;\n    height: 100%;\n    grid-template-columns: repeat(3, 33vw);\n    grid-auto-rows: 33vw;\n    gap: 1px;\n    div{\n        overflow: hidden;\n    }\n    .img{\n        height: 100%;\n        object-fit: cover;\n    }\n  ","\n    #bread{\n    width: 50%;\n    }\n"]);return A=function(){return n},n}var G=l.ZP.div.withConfig({componentId:"sc-277faec5-0"})(A(),function(n){return n.isFeed&&"\n    &>div{\n        width: 100%;\n        height: 100%;\n        display: flex;\n        background-color: white;\n        overflow: hidden;\n        justify-content: center;\n        align-items: center;\n        border: solid thin #e9e9e9; \n    }\n    img{\n        width: 40vw;\n    }\n"}),R=t(2716);function T(){var n=(0,i.Z)([""]);return T=function(){return n},n}function M(){var n=(0,i.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n  padding: 0;\n  margin: 0;\n"]);return M=function(){return n},n}var q=function(n){var e=n.reviewArr,t=(0,u.useRouter)(),r=(0,d.I0)(),i=function(n){r((0,R.W)(n)),t.push("/feed/review")};return(0,o.jsx)(G,{isFeed:!0,children:e.map(function(n){return(0,o.jsx)(D,{onClick:function(){return i(n)},children:n.reviewImg?(0,o.jsx)(U,{className:"container",children:(0,o.jsx)("img",{src:n.reviewImg})}):(0,o.jsx)(U,{className:"container",children:(0,o.jsx)("img",{src:"bread.png",id:"bread"})})})})})},D=l.ZP.div.withConfig({componentId:"sc-f56dc3e4-0"})(T()),U=l.ZP.div.withConfig({componentId:"sc-f56dc3e4-1"})(M());function V(){var n=(0,i.Z)(["\n  font-size: medium;\n  padding: 15px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  box-sizing: border-box;\n"]);return V=function(){return n},n}var X=function(){var n=(0,u.useRouter)(),e=(0,d.v9)(function(n){return{userObj:n.user.userObj}}).userObj,t=(0,d.v9)(function(n){return{isLoggedin:n.user.isLoggedin}}).isLoggedin,i=(0,r.Z)((0,a.useState)([]),2),c=i[0],l=i[1],m=(0,r.Z)((0,a.useState)(!1),2),h=m[0],g=m[1],v=(0,r.Z)((0,a.useState)([]),2),x=v[0],b=v[1],j=(0,r.Z)((0,a.useState)([]),2),w=j[0],Z=j[1];return(0,a.useEffect)(function(){t||n.push("/auth/login"),s().get("/user/feed/".concat(e.id)).then(function(n){l(n.data.Reviews),b(n.data.Visits.map(function(n){return n.StoreId}))})},[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(E,{reviewArr:c,visitCnt:x.length,onClickHandler:function(n){"visit"==n.currentTarget.id?s().post("/store/list",x).then(function(n){Z(n.data),g(!0)}):g(!1)}}),(0,o.jsx)(H,{children:h?"순례 리스트":"방문 일지"}),h?w.map(function(n){return(0,o.jsx)(p.Z,{store:n})}):(0,o.jsx)(q,{reviewArr:c}),(0,o.jsx)(f.Z,{})]})},H=l.ZP.div.withConfig({componentId:"sc-76435420-0"})(V())},88:function(n,e,t){"use strict";t.d(e,{ZX:function(){return a},h4:function(){return u},im:function(){return d}});var r=t(6118),i=t(5732);function o(){var n=(0,r.Z)(["\n    position: sticky;\n    display: flex;\n    align-items: center;\n    padding: 10px 20px;\n    top: 0px;\n    font-size: medium;\n    border-bottom: ",";\n    background-color: white;\n    color:#6f6f6f;\n    z-index:999;\n    gap: 10px;\n    box-sizing: border-box;\n    #visit{\n        flex: 0.1;\n    }\n"]);return o=function(){return n},n}function c(){var n=(0,r.Z)(["\n    flex: 0.7;\n"]);return c=function(){return n},n}function s(){var n=(0,r.Z)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    font-size: large;\n    margin-top: 10px;\n    color: #636363;\n        flex: 0.1;\n    #small{\n        font-size: xx-small;\n    }\n"]);return s=function(){return n},n}var u=i.ZP.header.withConfig({componentId:"sc-190f3b1a-0"})(o(),function(n){return"solid thin"+n.theme.color.border_grey}),a=i.ZP.span.withConfig({componentId:"sc-190f3b1a-1"})(c()),d=i.ZP.div.withConfig({componentId:"sc-190f3b1a-2"})(s())},4522:function(n,e,t){"use strict";var r=t(6118),i=t(9268),o=t(9),c=t(3380),s=t(5846),u=t.n(s),a=t(6008);t(6006);var d=t(5732);function l(){var n=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  #icon {\n    font-size: large;\n    margin-bottom: 5px;\n  }\n  span {\n    font-size: xx-small;\n    margin-top: 5px;\n  }\n"]);return l=function(){return n},n}function f(){var n=(0,r.Z)(["\n  position: fixed;\n  bottom: 0;\n  display: flex;\n  width: 100%;\n  flex-direction: row;\n  gap: 20%;\n  align-items: center;\n  justify-content: center;\n  padding: 10px 0;\n  border-top: ",";\n  background-color: white;\n"]);return f=function(){return n},n}e.Z=function(){var n=(0,a.usePathname)();return(0,i.jsxs)(m,{children:[(0,i.jsxs)(p,{href:"/home",children:[(0,i.jsx)(c.G,{icon:o.MV6,id:"icon",color:"/"==n?"#e2c26e":"#6f6f6f"}),(0,i.jsx)("span",{children:"홈"})]}),(0,i.jsxs)(p,{href:"/map",children:[(0,i.jsx)(c.G,{id:"icon",icon:o.FGq,color:"/storemap"==n?"#46A6FF":"#6f6f6f"}),(0,i.jsx)("span",{children:"빵 지도"})]}),(0,i.jsxs)(p,{href:"/wish",children:[(0,i.jsx)(c.G,{id:"icon",icon:o.m6i,color:"/wish"==n?"#f89573":"#6f6f6f"}),(0,i.jsx)("span",{children:"관심"})]}),(0,i.jsxs)(p,{href:"/feed",children:[(0,i.jsx)(c.G,{id:"icon",icon:o.FL8,color:"/feed"==n?"#46A6FF":"#6f6f6f"}),(0,i.jsx)("span",{children:"일지"})]})]})};var p=(0,d.ZP)(u()).withConfig({componentId:"sc-41971ab-0"})(l()),m=d.ZP.div.withConfig({componentId:"sc-41971ab-1"})(f(),function(n){return"solid thin"+n.theme.color.border_grey})},8872:function(n,e,t){"use strict";var r=t(6118),i=t(9268);t(6006);var o=t(3380),c=t(9),s=t(5732),u=t(6628),a=t(850),d=t(6008);function l(){var n=(0,r.Z)(["\n  width: 100vw;\n  max-width: 100vw;\n  display: flex;\n  align-items: center;\n  padding: 20px 0px;\n  height: 30px;\n  border-top: ",";\n"]);return l=function(){return n},n}function f(){var n=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: large;\n  color: #636363;\n  #small {\n    font-size: xx-small;\n  }\n"]);return f=function(){return n},n}function p(){var n=(0,r.Z)(["\n  gap: 20px;\n  margin-right: 20px;\n"]);return p=function(){return n},n}function m(){var n=(0,r.Z)(["\n  flex: 1;\n  margin-left: 20px;\n"]);return m=function(){return n},n}e.Z=function(n){var e=n.store,t=n.children,r=(0,d.useRouter)(),s=(0,u.I0)();return(0,i.jsxs)(h,{onClick:function(){s((0,a.J)({id:e.id,address_name:e.road_address_name?e.road_address_name:e.address_name,place_name:e.place_name,phone:e.phone,x:e.x,y:e.y,place_url:e.place_url,reviewCnt:e.reviewCnt,avgStar:e.avgStar})),r.push("/store")},children:[t,(0,i.jsx)(x,{children:e.place_name}),(0,i.jsxs)(v,{className:"row-container",children:[(0,i.jsxs)(g,{children:[(0,i.jsx)("span",{children:null==e.avgStar?(0,i.jsx)(o.G,{icon:c.LM3}):e.reviewCnt}),(0,i.jsx)("span",{id:"small",children:"리뷰"})]}),(0,i.jsxs)(g,{children:[(0,i.jsx)("span",{children:null==e.avgStar?(0,i.jsx)(o.G,{icon:c.LM3}):e.avgStar.toFixed(1)}),(0,i.jsx)("span",{id:"small",children:"평점"})]})]})]})};var h=s.ZP.div.withConfig({componentId:"sc-291e5525-0"})(l(),function(n){return"solid thin"+n.theme.color.border_grey}),g=s.ZP.div.withConfig({componentId:"sc-291e5525-1"})(f()),v=s.ZP.div.withConfig({componentId:"sc-291e5525-2"})(p()),x=s.ZP.span.withConfig({componentId:"sc-291e5525-3"})(m())},2716:function(n,e,t){"use strict";t.d(e,{W:function(){return s},Z:function(){return u}});var r=t(1838),i=t(6325),o="review/SET_USER_INFO",c={review:{id:0,star:0,nickName:0,date:new Date,StoreId:0}},s=function(n){return{type:o,review:n}};function u(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,e=arguments.length>1?arguments[1]:void 0;return e.type===o?(0,i.Z)((0,r.Z)({},n),{review:e.review}):n}},850:function(n,e,t){"use strict";t.d(e,{J:function(){return s},Z:function(){return u}});var r=t(1838),i=t(6325),o="store/SET_STORE_INFO",c={storeObj:null},s=function(n){return{type:o,storeObj:n}};function u(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,e=arguments.length>1?arguments[1]:void 0;return e.type===o?(0,i.Z)((0,r.Z)({},n),{storeObj:e.storeObj}):n}},3456:function(n,e,t){"use strict";t.d(e,{X2:function(){return a},ZP:function(){return f},ps:function(){return d},yi:function(){return l}});var r=t(1838),i=t(6325),o="user/SET_LOGGED_INFO",c="user/SET_LOCATION_INFO",s="user/SET_USER_INFO",u={userObj:{id:0,nickName:""},location:{si:"서울",y:37.556428224476505,x:126.97150576481177},isLoggedin:!1},a=function(n,e){return{type:o,userObj:n,isLoggedin:e}},d=function(n){return{type:s,userObj:n}},l=function(n){return{type:c,location:n}};function f(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case o:return(0,i.Z)((0,r.Z)({},n),{userObj:e.userObj,isLoggedin:e.isLoggedin});case s:return(0,i.Z)((0,r.Z)({},n),{userObj:e.userObj});case c:return(0,i.Z)((0,r.Z)({},n),{location:e.location});default:return n}}},4762:function(n,e,t){"use strict";function r(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}t.d(e,{Z:function(){return r}})},4175:function(n,e,t){"use strict";function r(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}t.d(e,{Z:function(){return r}})},5147:function(n,e,t){"use strict";t.d(e,{Z:function(){return o}});var r=t(4175),i=t(1022);function o(n,e){return function(n){if(Array.isArray(n))return n}(n)||(0,r.Z)(n,e)||(0,i.Z)(n,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1022:function(n,e,t){"use strict";t.d(e,{Z:function(){return i}});var r=t(4762);function i(n,e){if(n){if("string"==typeof n)return(0,r.Z)(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return(0,r.Z)(n,e)}}}},function(n){n.O(0,[626,137,91,701,744],function(){return n(n.s=4041)}),_N_E=n.O()}]);